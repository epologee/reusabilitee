package com.epologee.util {	import flash.display.BitmapData;
	import flash.geom.Rectangle;
	import flash.utils.ByteArray;
	import flash.utils.getQualifiedClassName;	

	/**	 * @author Eric-Paul Lecluse | epologee.com (c) 2009	 */	public class Randomizer {		private static const INSTANCE : Randomizer = new Randomizer();		//		private static var seed : uint;		private var mRandom : ByteArray;		private var mResolution : Number;		public static function getInstance() : Randomizer {			return INSTANCE;		}		public function Randomizer() {			if (INSTANCE) throw new Error("Cannot instantiate: use the static methods");			initialize();		}				public static function increaseSeed() : void {			reset(++seed);		}				public static function reset(inSeed:uint) : void {			getInstance().initialize(inSeed);		}		private function initialize(inSeed:uint = 1) : void {			seed = inSeed;						var bmd : BitmapData = new BitmapData(100, 100);			bmd.noise(inSeed);		 				mResolution = 1 / 0xFFFFFF;			mRandom = bmd.getPixels(new Rectangle(0, 0, bmd.width, bmd.height));						bmd.dispose();		}		public static function getNext() : Number {			return getInstance().getNextValue(); 		}		private function getNextValue() : Number {			mRandom.position %= mRandom.length;			var c:uint = mRandom.readUnsignedInt() & 0xFFFFFF; 			return c * mResolution;		}		public function toString():String {			// com.epologee.util.Randomizer			var s:String = "";			// s = "[ " + name + " ]:";			return s+getQualifiedClassName(this);		}			}}